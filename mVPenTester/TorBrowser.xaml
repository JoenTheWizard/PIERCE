<Window x:Class="mVPenTester.PythonWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:mVPenTester"
        xmlns:hwndhost="clr-namespace:CefSharp.Wpf.HwndHost;assembly=CefSharp.Wpf.HwndHost"
        xmlns:dragablz="http://dragablz.net/winfx/xaml/dragablz" xmlns:avalonEdit1="http://icsharpcode.net/sharpdevelop/avalonedit"
        mc:Ignorable="d"
        Icon="FileContents/piercelogo.ico"
        Title="PythonWindow" Height="720" Width="1270" Loaded="Window_Loaded"
        WindowStyle="None" AllowsTransparency="True" WindowStartupLocation="Manual" ResizeMode="CanResizeWithGrip" SizeChanged="Window_SizeChanged">
    <Window.Resources>
        <Style x:Key="intcptBtn" TargetType="Button">
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="7"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Background" Value="#2f2f2f"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
    </Window.Resources>
    <Grid Background="#202020">
        <Grid MouseDown="Grid_MouseDown" Background="#343434" VerticalAlignment="Top" Height="20">
            <Button Click="Button_Click" Background="Transparent" BorderThickness="0,0,0,0" Content="✖" Foreground="White" HorizontalAlignment="Right" Width="40"/>
            <Button Click="maximumMin_Click" x:Name="maximumMin" Background="Transparent" BorderThickness="0,0,0,0" Content="🗖" Foreground="White" HorizontalAlignment="Right" Width="40" Margin="0,0,40,0"/>
            <Button Background="Transparent" BorderThickness="0,0,0,0" Content="🗕" Foreground="White" HorizontalAlignment="Right" Width="40" Margin="0,0,80,0"/>
            <TextBlock Text="Tor Browser - PIERCE" Foreground="White" HorizontalAlignment="Left" FontFamily="Consolas" Margin="15,3,0,0"/>
        </Grid>
        <Grid Background="#3b3b3b" Margin="15,35,15,20">
            <Grid.RowDefinitions>
                <RowDefinition Height="2.2*"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <Grid>
                <dragablz:TabablzControl Background="#3a3a3a" BorderThickness="0">
                    <TabItem Header="Tor Proxy">
                        <TextBox x:Name="torSettingsTXT" Foreground="White"
                                 FontFamily="Consolas"
                                 Background="Black">
                        </TextBox>
                    </TabItem>
                    <TabItem Header="Intercept Proxy">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition x:Name="activityGrid" Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid Background="#FF3E3E42">
                                <StackPanel Orientation="Horizontal">
                                <Button HorizontalAlignment="Left" Width="Auto"
                                        Margin="0,2,0,1"
                                        Style="{DynamicResource intcptBtn}"
                                        x:Name="hideShowActivity"
                                        Content="Hide Activity" Click="Button_Click_1"/>
                                    <Button Content="Save HTTP Request" Margin="1,2,0,1"
                                            Click="saveHTTPRequest_Click"
                                            Style="{DynamicResource intcptBtn}"/>
                                </StackPanel>
                                <Button Content="Send Request" HorizontalAlignment="Right"
                                        Style="{DynamicResource intcptBtn}"
                                        Foreground="Lime" Click="Button_Click_2"/>
                            </Grid>
                            <TextBox x:Name="tSettings" Background="Black" Grid.Row="1"
                         Foreground="White" FontFamily="Consolas" AcceptsReturn="True"/>
                            <avalonEdit1:TextEditor SyntaxHighlighting="HTML"
                                                    HorizontalScrollBarVisibility="Auto"
                                                    VerticalScrollBarVisibility="Auto"
                                Grid.Row="2" Background="Black" Foreground="White"
                             FontFamily="Consolas" x:Name="interceptResponse"/>
                            <ListView x:Name="httpActivity" Grid.Column="1"
                                      Grid.RowSpan="3" Background="#2a2a2a" Foreground="White">
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#3d3d3d"/>
                                                <Setter Property="BorderBrush" Value="#FF2F2F2F"/>
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="#5d5d5d"/>
                                                <Setter Property="BorderBrush" Value="#FF2F2F2F"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.View>
                                    <GridView>
                                        <GridView.ColumnHeaderContainerStyle>
                                            <Style TargetType="{x:Type GridViewColumnHeader}">
                                                <Setter Property="Background" Value="#FF252526"/>
                                                <Setter Property="Foreground" Value="White"/>
                                                <Setter Property="FontFamily" Value="Consolas"/>
                                                <Setter Property="BorderBrush" Value="Gray"/>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#3d3d3d"/>
                                                        <Setter Property="BorderBrush" Value="#FF2F2F2F"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </GridView.ColumnHeaderContainerStyle>
                                        <GridViewColumn x:Name="gr1" Header="Request" DisplayMemberBinding="{Binding request}"/>
                                        <GridViewColumn x:Name="gr2" Header="Payload" DisplayMemberBinding="{Binding payload}"/>
                                        <GridViewColumn x:Name="gr3" Header="Response" DisplayMemberBinding="{Binding response}"/>
                                        <GridViewColumn x:Name="gr4" Header="Time" DisplayMemberBinding="{Binding time}"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </Grid>
                    </TabItem>
                    <TabItem Header="Web">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="2"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <RichTextBox x:Name="jsConsoleLog"
                                  Background="#1d1d1d" Foreground="White"/>
                            <GridSplitter Grid.Row="1" HorizontalAlignment="Stretch"
                                          Background="Transparent"/>
                            <avalonEdit1:TextEditor ShowLineNumbers="True" Grid.Row="2"
                            x:Name="jsInput" Background="#1d1d1d" Foreground="White"/>
                        </Grid>
                    </TabItem>
                    <TabItem Header="Options">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="3"/>
                                <RowDefinition Height="5.5*"/>
                            </Grid.RowDefinitions>
                            <TextBlock Foreground="White" FontFamily="Consolas"
                                       Margin="20,10,0,0" x:Name="isJSOptions"
                                       Text="Is Javascript: "/>
                            <TextBlock Foreground="White" FontFamily="Consolas"
                                       Margin="20,10,0,0" Grid.Row="2"
                                       Text="Proxy Servers:"/>
                            <GridSplitter Grid.Row="1" HorizontalAlignment="Stretch"
                                          Background="#2a2a2a"/>
                            <ListView Grid.Row="1" x:Name="activeProxy" Margin="15,35,15,5"
                                      Grid.RowSpan="3" Background="#2a2a2a" Foreground="White">
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="HorizontalAlignment" Value="Stretch"/>
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Background" Value="#3d3d3d"/>
                                                <Setter Property="BorderBrush" Value="#FF2F2F2F"/>
                                            </Trigger>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="#5d5d5d"/>
                                                <Setter Property="BorderBrush" Value="#FF2F2F2F"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </ListView.ItemContainerStyle>
                                <ListView.View>
                                    <GridView>
                                        <GridView.ColumnHeaderContainerStyle>
                                            <Style TargetType="{x:Type GridViewColumnHeader}">
                                                <Setter Property="Background" Value="#FF252526"/>
                                                <Setter Property="Foreground" Value="White"/>
                                                <Setter Property="FontFamily" Value="Consolas"/>
                                                <Setter Property="BorderBrush" Value="Gray"/>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="#3d3d3d"/>
                                                        <Setter Property="BorderBrush" Value="#FF2F2F2F"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </GridView.ColumnHeaderContainerStyle>
                                        <GridViewColumn x:Name="interfaceProx" DisplayMemberBinding="{Binding interfaceProxy}"
                                                        Header="Interface" Width="Auto"/>
                                        <GridViewColumn x:Name="proxyService" DisplayMemberBinding="{Binding service}"
                                                        Header="Proxy Service" Width="Auto"/>
                                        <GridViewColumn x:Name="isRunningProx" DisplayMemberBinding="{Binding isRunning}"
                                                        Header="Is Running" Width="Auto"/>
                                        <GridViewColumn DisplayMemberBinding="{Binding proxyInfo}" Header="Info" Width="Auto"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </Grid>
                    </TabItem>
                </dragablz:TabablzControl>
            </Grid>
            <TextBox x:Name="torConsole" KeyDown="torConsole_KeyDown"
                     Background="Black" TextWrapping="Wrap" Foreground="White"
                     FontFamily="Consolas" FontWeight="Bold" Text="> " Grid.Row="1"
                     Grid.Column="0" PreviewKeyDown="torConsole_PreviewKeyDown"/>
            <Grid Grid.Column="1" Grid.RowSpan="2">
                <Grid.RowDefinitions>
                    <RowDefinition Height="20"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid Background="Transparent">
                    <Menu HorizontalAlignment="Left" Margin="5,5,0,0" Background="Transparent">
                        <MenuItem Header="File" BorderThickness="0" Background="Transparent"
                                  FontFamily="Consolas" Foreground="White"/>
                        <MenuItem Header="View" BorderThickness="0" Background="Transparent"
                                  FontFamily="Consolas" Foreground="White"/>
                    </Menu>
                </Grid>
                <dragablz:TabablzControl Margin="8" ShowDefaultCloseButton="True"
                                         x:Name="dragControl"
                                         ShowDefaultAddButton="True"
                                         Grid.Row="1">
                    <dragablz:TabablzControl.InterTabController>
                        <dragablz:InterTabController/>
                    </dragablz:TabablzControl.InterTabController>
                    <TabItem x:Name="mainTabTitle" Header="DuckDuckGo" IsSelected="True">
                        <Grid Grid.Row="1" Background="#4a4a4a">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="20"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBox x:Name="dt" KeyDown="dt_KeyDown" BorderThickness="0"
                     Background="#2b2b2b" Foreground="White" FontFamily="Consolas"
                     Margin="90,2,2,0" VerticalAlignment="Top"
               Grid.Column="1" Grid.RowSpan="2">
                                <TextBox.Resources>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="CornerRadius" Value="10"/>
                                    </Style>
                                </TextBox.Resources>
                            </TextBox>
                            <Button x:Name="goBack" Click="goBack_Click"
                    Content="⮘" Grid.Column="1" Padding="0,-1" BorderBrush="#202020"
                    BorderThickness="0,0,0.8,0.8" Grid.RowSpan="2" VerticalAlignment="Top"
                    Margin="2,2,0,0" Height="16" Width="28" HorizontalAlignment="Left"
                    Background="Transparent" Foreground="White">
                                <Button.Resources>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="CornerRadius" Value="4"/>
                                    </Style>
                                </Button.Resources>
                            </Button>
                            <Button x:Name="goForward" Click="goForward_Click" Content="⮚"
                    Padding="0,-1" BorderThickness="0,0,0.8,0.8" Foreground="White"
                    Grid.Column="1" BorderBrush="Black" Grid.RowSpan="2" VerticalAlignment="Top"
                    Height="16" Width="28" Margin="31,2,0,0" HorizontalAlignment="Left"
                    Background="Transparent">
                                <Button.Resources>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="CornerRadius" Value="4"/>
                                    </Style>
                                </Button.Resources>
                            </Button>
                            <Button x:Name="reloadPage" Content="⟳" FontSize="13" Click="reloadPage_Click"
                    Padding="0,-1" BorderThickness="0,0,0.8,0.8" Foreground="White"
                    Grid.Column="1" BorderBrush="Black" Grid.RowSpan="2" VerticalAlignment="Top"
                    Height="16" Width="28" Margin="61,2,0,0" HorizontalAlignment="Left"
                    Background="Transparent">
                                <Button.Resources>
                                    <Style TargetType="{x:Type Border}">
                                        <Setter Property="CornerRadius" Value="4"/>
                                    </Style>
                                </Button.Resources>
                            </Button>
                            <hwndhost:ChromiumWebBrowser x:Name="tBrowser" Grid.Row="1"
                                         Grid.Column="1" Grid.RowSpan="2" TitleChanged="tBrowser_TitleChanged"
                                         LoadError="tBrowser_LoadError"/>
                        </Grid>
                    </TabItem>
                </dragablz:TabablzControl>
            </Grid>
            <GridSplitter HorizontalAlignment="Right" VerticalAlignment="Stretch" 
                      Grid.RowSpan="2" Width="3" Background="#2b2b2b"/>
            <GridSplitter HorizontalAlignment="Stretch" VerticalAlignment="Bottom" 
                      Height="2" Background="#2b2b2b"/>
        </Grid>
    </Grid>
</Window>
